%p#notice= notice

= title(@boy.name)

.row
  .col-md-9
    %h4
      %b= "#{@boy.current_rank.to_s.titleize}"
      = "(Active)" if @boy.active
      = "(Inactive)" unless @boy.active
      = ", #{show_grade(@boy.grade)}"
  .col-md-3
    = link_to 'Edit Boy', edit_boy_path(@boy), :class => "hidden-print btn btn-primary" if can? :edit, @boy

%p
  Rank started at
  = @boy.rank.created_at.strftime('%d %B %Y')


- if @boy.ranks.count > 1
  %hr
  %h4 Other Ranks tracked:

  %ul
    - (@boy.ranks - [@boy.rank]).each do |r|
      %li
        = r.name.titleize
        = r.created_at.strftime("%m/%d/%Y")

%h2 Progress

=render :partial => "#{@boy.type.downcase}s/progress"

-unless @boy.awards.empty?
  %h2 Achievements

  = render :partial => @boy.awards

%h2 Bonus Leaves

%p.text-right
  = link_to 'Add Bonus', new_boy_bonum_path(@boy), :class => "hidden-print btn btn-primary" if can? :edit, Bonum

%table.table
  %thead
    %tr
      %th{width: "35%"} Activity
      %th{width: "35%"} Leave Summary
      %th{width: "15%"} Reported by
      %th{width: "15%"} Reported on
  %tbody
    = render :partial => @boy.current_rank.bonums

%h2 Attendance

%table.table.table-bordered
  %tr
    %th Event
    %th Date
    %th <abbr title='Service Hours'>S</abbr>
    %th <abbr title='Heritage'>H</abbr>
    %th <abbr title='Hobbies'>B</abbr>
    %th <abbr title='Life Skills'>L</abbr>
    %th <abbr title='Outdoor Activities'>O</abbr>
    %th <abbr title='Pioneering Skills'>P</abbr>
    %th <abbr title='Science & Technology'>T</abbr>
    %th <abbr title='Values'>V</abbr>

  = render :partial => @events.reverse